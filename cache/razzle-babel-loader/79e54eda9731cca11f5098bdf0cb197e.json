{"ast":null,"code":"import express from \"express\";\nimport { renderApp } from \"./helpers/renderApp\";\nimport cookieParser from \"cookie-parser\";\nconst server = express().disable(\"x-powered-by\").use(express.static(process.env.RAZZLE_PUBLIC_DIR)).use(cookieParser()).get(\"/*\", (req, res) => {\n  const {\n    html = \"\",\n    redirect = false,\n    lang\n  } = renderApp(req); // res.cookie(\"locale\", lang, {\n  //   maxAge: new Date().getDate() * 0.001 + 365 * 24 * 3600,\n  // });\n\n  if (redirect) {\n    res.redirect(redirect);\n  } else {\n    res.send(html);\n  }\n});\nexport default server;","map":{"version":3,"sources":["/Users/mostafataghipour/Desktop/untitled folder/web/src/server.tsx"],"names":["express","renderApp","cookieParser","server","disable","use","static","process","env","RAZZLE_PUBLIC_DIR","get","req","res","html","redirect","lang","send"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,SAApB;AACA,SAASC,SAAT,QAA0B,qBAA1B;AACA,OAAOC,YAAP,MAAyB,eAAzB;AAEA,MAAMC,MAAM,GAAGH,OAAO,GACnBI,OADY,CACJ,cADI,EAEZC,GAFY,CAERL,OAAO,CAACM,MAAR,CAAeC,OAAO,CAACC,GAAR,CAAYC,iBAA3B,CAFQ,EAGZJ,GAHY,CAGRH,YAAY,EAHJ,EAIZQ,GAJY,CAIR,IAJQ,EAIF,CAACC,GAAD,EAAuBC,GAAvB,KAAiD;AAC1D,QAAM;AAAEC,IAAAA,IAAI,GAAG,EAAT;AAAaC,IAAAA,QAAQ,GAAG,KAAxB;AAA+BC,IAAAA;AAA/B,MAAwCd,SAAS,CAACU,GAAD,CAAvD,CAD0D,CAG1D;AACA;AACA;;AAEA,MAAIG,QAAJ,EAAc;AACZF,IAAAA,GAAG,CAACE,QAAJ,CAAaA,QAAb;AACD,GAFD,MAEO;AACLF,IAAAA,GAAG,CAACI,IAAJ,CAASH,IAAT;AACD;AACF,CAhBY,CAAf;AAkBA,eAAeV,MAAf","sourcesContent":["import express from \"express\";\nimport { renderApp } from \"./helpers/renderApp\";\nimport cookieParser from \"cookie-parser\";\n\nconst server = express()\n  .disable(\"x-powered-by\")\n  .use(express.static(process.env.RAZZLE_PUBLIC_DIR!))\n  .use(cookieParser())\n  .get(\"/*\", (req: express.Request, res: express.Response) => {\n    const { html = \"\", redirect = false, lang } = renderApp(req);\n\n    // res.cookie(\"locale\", lang, {\n    //   maxAge: new Date().getDate() * 0.001 + 365 * 24 * 3600,\n    // });\n\n    if (redirect) {\n      res.redirect(redirect);\n    } else {\n      res.send(html);\n    }\n  });\n\nexport default server;\n"]},"metadata":{},"sourceType":"module"}